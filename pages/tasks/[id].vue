<script setup lang="ts">
const route = useRoute();

const {
  data: task,
  error,
  status,
} = await useFetch(`/api/tasks/${route.params.id}`, {
  lazy: true,
});
</script>

<template>
  <article v-if="status === 'pending'" aria-busy="true" />
  <article class="error" v-else-if="error">{{ error.statusMessage }}</article>
  <div v-else-if="task">
    <article>{{ task.title }}</article>
  </div>
</template>
